<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta name="description" content="Analyze your location history, confront your personal transportation carbon footprint, and contribute to environmental equity.">
    <meta name="keywords" content="Personal, Transportation, Carbon, Tracker, Footprince, CO2, Emission, Offset, Pollution, Carbon dioxide, fossil fuels">
    <meta name="author" content="Daniel Kawalsky">
    <title>Carbon Foot Prince</title>
    <link rel="stylesheet" href="index2.css" />
    <link rel="stylesheet" href="styles/control-panels/activity-control-panel.css" />
    <link rel="stylesheet" href="styles/control-panels/scope-control-panel.css" />
    <link rel="stylesheet" href="styles/control-panels/chart-control-panel.css" />
    <link rel="stylesheet" href="styles/control-panels/presentation-view-control-panel.css" />
    <link rel="stylesheet" href="styles/control-panels/year-control-panel.css" />
    <link rel="stylesheet" href="styles/main-view/introduction.css" />
    <link rel="stylesheet" href="styles/main-view/about.css" />
    <link rel="stylesheet" href="styles/main-view/presentation.css" />
    <link rel="stylesheet" href="styles/main-view/upload.css" />
    <link rel="stylesheet" href="styles/main-view/charts/calendar.css" />
    <link rel="stylesheet" href="styles/main-view/charts/donate.css" />
    <link rel="stylesheet" href="styles/main-view/charts/donut.css" />
    <link rel="stylesheet" href="styles/main-view/charts/line.css" />
    <link rel="stylesheet" href="styles/main-view/charts/map.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-4ZJM8SPL1G"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-4ZJM8SPL1G');
    </script> -->
</head>
<body>
    <div id="container">
        <div id="presentation-view-control-panel-cell">
            <div id="presentation-view-control-panel-cell-row">
                <div id="scope-control-panel-selector-container">
                    <div class="scope-control-panel-selector button selected" id="scope-selector-overall" scope="overall">Overall</div>
                    <div class="scope-control-panel-selector button" id="scope-selector-annual" scope="annual">Annual</div>
                </div>
                <div id="control-panel-chevron">▸</div>
                <div id="chart-view-control-panel-selector-container">
                    <div class="chart-view-control-panel-selector button selected" id="chart-view-control-panel-selector-donate" chartname="donate">
                        <img class="chart-view-control-panel-icon" src="images/views/healing.svg" chartname="donate" />
                    </div>
                    <div class="chart-view-control-panel-selector button" id="chart-view-control-panel-selector-donut" chartname="donut">
                        <img class="chart-view-control-panel-icon" src="images/views/donut-chart.svg" chartname="donut" />
                    </div>
                    <div class="chart-view-control-panel-selector button" id="chart-view-control-panel-selector-line" chartname="line">
                        <img class="chart-view-control-panel-icon" src="images/views/line-graph.svg" chartname="line" />
                    </div>
                    <div class="chart-view-control-panel-selector button" id="chart-view-control-panel-selector-map" chartname="map">
                        <img class="chart-view-control-panel-icon" src="images/views/world.svg" chartname="map" />
                    </div>
                    <div class="chart-view-control-panel-selector button" id="chart-view-control-panel-selector-calendar" chartname="calendar">
                        <img class="chart-view-control-panel-icon" src="images/views/calendar-chart.svg" chartname="calendar" />
                    </div>
                </div>
            </div>
        </div>
        <div id="main-view-cell">
            <div class="introduction-view-section" id="introduction-view-section">
                <div id="introduction-header">
                    <img id="introduction-image" src="images/plant.svg" />
                    <h2 id="introduction-title"> Carbon Foot Prince </h2> 
                    <h2 id="introduction-subtitle"> Personal Transportation Carbon Tracker </h2>
                    <br />
                    <h2 id="introduction-subtitle"> Use your Google location history data to calculate the carbon footprint of what moves you. </h2>
                </div>
                <div id="intro-button-container">
                    <div class="main-view-button button" id="main-view-button-learn-more">
                        <span class="main-view-button-text">Learn More</span>
                        <img class="main-view-button-icon" src="images/icons/walking.svg" />
                    </div>
                    <div class="main-view-button button" id="main-view-button-start">
                        <span class="main-view-button-text">Start</span>
                        <img class="main-view-button-icon" src="images/icons/running.svg" />
                    </div>
                </div>
            </div>
            <div class="about-view-section main-view-first-section" id="questions-container-section">
                <div class="navigation-header">
                    <div class="main-view-button button" id="main-view-button-about-back">
                        <img class="main-view-button-icon" src="images/icons/left-arrow.svg" />
                    </div>
                    <div class="main-view-text-medium-title">Questions</div>
                </div>
                <div class="question-button button selected" id="question-button-default">
                    <div class="question-button-icon-container">
                        <img class="question-button-icon" src="images/question-mark.svg" />
                    </div> 
                    <div class="question-button-text-container">
                        <span class="question-button-text">What is Carbon Foot Prince?</span>
                    </div>
                </div>
                <div class="question-button button" id="question-button-privacy">
                    <div class="question-button-icon-container">
                        <img class="question-button-icon" src="images/question-mark.svg" />
                    </div> 
                    <div class="question-button-text-container">
                        <span class="question-button-text">How can I be sure my location data does not leave my computer?</span>
                    </div>
                </div>
                <div class="question-button button" id="question-button-contribute">
                    <div class="question-button-icon-container">
                        <img class="question-button-icon" src="images/question-mark.svg" />
                    </div> 
                    <div class="question-button-text-container">
                        <span class="question-button-text">How do I improve this open-source project?</span>
                    </div>
                </div>
                <div class="question-button button" id="question-button-calculation">
                    <div class="question-button-icon-container">
                        <img class="question-button-icon" src="images/question-mark.svg" />
                    </div>
                    <div class="question-button-text-container">
                        <span class="question-button-text">Is the calculation reliable?</span>
                    </div>
                </div>
                <div class="main-view-button button" id="main-view-button-start-2">
                    <span class="main-view-button-text">Start</span>
                    <img class="main-view-button-icon" src="images/icons/running.svg" />
                </div>
            </div>
            <div class="about-view-section" id="answer-container-section">
                <div class="about-text" id="about-text-default">
                    <div class="main-view-text-medium-title">Learn More</div>
                    <div class="about-text-paragraph">
                        Just as Google Location History makes you confront 
                        <a href="https://www.google.com/maps/timeline">just how much of your 
                        life story</a> is stored on corporate servers, Carbon Foot Prince is 
                        a tool to get familiar with your personal impact. This tool personalizes
                        the toll your fossil-fueled movement takes on the global climate based
                        on activity recorded in your location history– and it does this all 
                        offline.
                        <br />
                        <br />
                        Learn more by asking a pre-answered question from the left panel, or ask 
                        a question 
                        <a href="https://github.com/danksky/carbon-analysis/issues/new">by creating a new issue</a> 
                        on this project's code repository. 
                    </div>
                </div>
                <div class="about-text" id="about-text-privacy">
                    <div class="main-view-text-medium-title">Privacy</div>
                    <div class="about-text-paragraph">
                        Your data does not leave your computer. Trust me, I'm a developer ;) 
                        But seriously, I understand the sensitivity of your location history 
                        data, so this tool is specifically designed to do all of the analysis 
                        on your computer – it is not sent to external servers. I don't encourage
                        you to trust me at face value, so I invite you to view the 
                        <a href="https://github.com/danksky/carbon-analysis">source code</a>.
                    </div>
                </div>
                <div class="about-text" id="about-text-calculation">
                    <div class="main-view-text-medium-title">Calculation</div>
                    <div class="about-text-paragraph">
                        To simplify some calculations, the tool makes an assumption about
                        the occupancy of your vehicle and matches it with emissions coefficients
                        reported by Defra, then calculates your emissions per trip.
                    </div>
                    <div class="main-view-text-medium-title">Sources</div>
                    <div class="about-text-paragraph">
                        The estimates are based on figures published by U.S. and 
                        U.K. government agencies, Our World in Data, and the IEA. 
                    </div>
                    <div class="main-view-text-medium-title">Limitations</div>
                    <div class="about-text-paragraph">
                        Carbon Foot Prince is an fine-grained approximation tool– it is only 
                        as precise as the data provided to it permits it to be; sometimes, 
                        Google location history data have lots of gaps. Figure that the 
                        estimates presented to you will be quite conservative. 
                    </div>
                </div>
                <div class="about-text" id="about-text-contribute">
                    <div class="main-view-text-medium-title">Roove for Improoment</div>
                    <div class="about-text-paragraph">
                        Does something feels off? Is there a glaring typo I missed? Oh! Did you 
                        think of a great feature to add?
                        <a href="https://github.com/danksky/carbon-analysis/issues/new">Let's do better!</a> 
                    </div>
                </div>
            </div>
            <div class="upload-view-section main-view-first-section" id="instructions-container-section">
                <div class="navigation-header">
                    <div class="main-view-button button" id="main-view-button-upload-back">
                        <img class="main-view-button-icon" src="images/icons/left-arrow.svg" />
                    </div>
                    <div class="main-view-text-medium-title">Get your location history</div>
                </div>
                <ol id="instructions-steps"> 
                    <li> Go to <a href="https://takeout.google.com/settings/takeout">Google Takeout</a> to download your Location History data. </li>
                    <li> Deselect everything except Location History.
                        <ol>
                            <li> Click <strong>Deselect all</strong>.</li>
                            <li> Scroll until you find <strong>History</strong> and select it.</li>
                            <li> Scroll down and click <strong>Next step</strong>.</li>
                        </ol>
                    </li> 
                    <li> For <strong>Delivery method</strong> choose whichever method you'd like to receive the zip. </li>
                    <li> For <strong>Frequency</strong> choose "Export once". </li>
                    <li> Leave <strong>File type & size</strong> as ".zip" and "2 GB". </li>
                    <li> Wait (up to 5 days) to receive your zipped file, then download the .zip file.  </li>
                    <li> Import it here using the button below. </li>
                </ol>
            </div>
            <div class="upload-view-section" id="upload-container-section">
                <div class="main-view-text-medium-title">Import file</div>
                <input type="file" accept="application/zip,application/json" id="file-input" />
                <div id="upload-progress-container">
                    <div id="upload-progress-bar-container"> 
                        <div id="upload-progress-bar"></div>
                    </div>
                </div>
                <div id="upload-error-container">
                    <ul id="upload-errors-list">
                    </ul>
                </div>
            </div>
            <div class="presentation-view-section main-view-first-section" id="presentation-text-section">
                <div id="presentation-view-text-container">
                    <div id="donation-call-to-action">
                        <div class="main-view-text-medium-title">Offset your carbon.</div>
                        <div>
                            Your personal transportation over the past <span id="year-count">X</span> years has emitted a conservatively calculated <span class="total-emission" id="summary-total-emission">X</span> kgt of CO<sub>2</sub>. 
                        </div>
                    </div>
                    <div id="overall-emissions-donut-chart-legend-container">
                        <div class="main-view-text-medium-title">Donut Chunks</div>
                        <div id="overall-emissions-donut-chart-legend-items">
                            <!-- TODO: Improve the dynamic nature of this explanation, (1) compare user's average annual flight miles to average American's flight miles annually. -->
                            <div>
                                Is your donut chart dominated by 2 or 3 "chunks?" Flying on 
                                commercial airlines and driving a passenger vehicle typically 
                                accounts for the vast majority of your emissions.
                            </div>
                        </div>
                    </div>
                    <div id="overall-emissions-line-chart-legend-container">
                        <div class="main-view-text-medium-title">Legend</div>
                        <div id="overall-emissions-line-chart-legend-items">
                            <div class="overall-emissions-line-chart-legend-item">
                                <div class="overall-emissions-line-chart-legend-item-color-container">
                                    <div class="overall-emissions-line-chart-legend-item-color" id="overall-emissions-line-chart-legend-item-color-1"></div>
                                </div>
                                <div class="overall-emissions-line-chart-legend-item-explanation">
                                    <div class="overall-emissions-line-chart-legend-item-explanation-title"><strong>Personal Transportation Emissions</strong></div>
                                    <div class="overall-emissions-line-chart-legend-item-explanation-title-explanation">your personal carbon output from personal transportation<sup class="overall-emissions-line-chart-legend-item-explanation-annotation"><a>[1]</a></sup></div>
                                </div>
                            </div>
                            <div class="overall-emissions-line-chart-legend-item">
                                <div class="overall-emissions-line-chart-legend-item-color-container">
                                    <div class="overall-emissions-line-chart-legend-item-color" id="overall-emissions-line-chart-legend-item-color-2"></div>
                                </div>
                                <div class="overall-emissions-line-chart-legend-item-explanation">
                                    <div class="overall-emissions-line-chart-legend-item-explanation-title"><strong>USA Personal Transportation Emissions Per Capita</strong></div>
                                    <div class="overall-emissions-line-chart-legend-item-explanation-title-explanation">per-capita personal transportation in the USA<sup class="overall-emissions-line-chart-legend-item-explanation-annotation"><a>[2]</a></sup></div>
                                </div>
                            </div>
                            <div class="overall-emissions-line-chart-legend-item">
                                <div class="overall-emissions-line-chart-legend-item-color-container">
                                    <div class="overall-emissions-line-chart-legend-item-color" id="overall-emissions-line-chart-legend-item-color-3"></div>
                                </div>
                                <div class="overall-emissions-line-chart-legend-item-explanation">
                                    <div class="overall-emissions-line-chart-legend-item-explanation-title"><strong>USA Personal Transportation Emissions Per Capita - 2015 Paris Climate Accords Goal</strong></div>
                                    <div class="overall-emissions-line-chart-legend-item-explanation-title-explanation">per-capita personal transportation in the USA annually reduced to goals set by the 2015 Paris Climate Accords<sup class="overall-emissions-line-chart-legend-item-explanation-annotation"><a>[3]</a></sup></div>
                                </div>
                            </div>
                            <div class="overall-emissions-line-chart-legend-item">
                                <div class="overall-emissions-line-chart-legend-item-color-container">
                                    <div class="overall-emissions-line-chart-legend-item-color" id="overall-emissions-line-chart-legend-item-color-4"></div>
                                </div>
                                <div class="overall-emissions-line-chart-legend-item-explanation">
                                    <div class="overall-emissions-line-chart-legend-item-explanation-title"><strong>Global Personal Transportation Emissions Per Capita</strong></div>
                                    <div class="overall-emissions-line-chart-legend-item-explanation-title-explanation">per-capita personal transportation globally<sup class="overall-emissions-line-chart-legend-item-explanation-annotation"><a>[4]</a></sup></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="calendar-emissions-charts-legend">
                        <div class="main-view-text-medium-title">Daily Emissions</div>
                        <div class="presentation-view-text-explanation"></div>
                        <div class="main-view-text-medium-title">Cumulative Emissions</div>
                        <div class="presentation-view-text-explanation">The gradient below projects the 2015 Paris Climate Accords goals onto your year's emissions. When it turns from green to white, you have reached your annual carbon emission allowance for <span class="selected-year">0000</span>. Once your carbon emissions exceed this budget, the gradient turns red.</div>
                    </div>
                </div>
            </div>
            <div class="presentation-view-section" id="presentation-chart-section">
                <div id="presentation-view-chart-container">
                    <div id="emissions-breakdown">
                        <div class="main-view-text-medium-title">What happens to all your carbon?</div>
                        <div>
                            <div class="emissions-breakdown-item"> 
                                <div class="emissions-breakdown-item-icon-container">
                                    <img class="emissions-breakdown-item-icon" src="images/climate-change/tailpipe.svg" />
                                </div>
                                <div class="emissions-breakdown-item-text">
                                    In total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emittedIn total, your emitted <span class="total-emission">X</span> kgt <sub>CO<sub>2</sub></sub> since <span class="earliest-year">0000</span>. 
                                </div>
                            </div>
                            <div class="emissions-breakdown-item"> 
                                <div class="emissions-breakdown-item-icon-container">
                                    <img class="emissions-breakdown-item-icon" src="images/climate-change/global-warming.svg" />
                                </div>
                                <div class="emissions-breakdown-item-text">
                                    Of this, <span id="half-total-emission">X</span> kgt <sub>CO<sub>2</sub></sub> will remain in the atmosphere, 
                                </div>
                            </div>
                            <div class="emissions-breakdown-item"> 
                                <div class="emissions-breakdown-item-icon-container">
                                    <img class="emissions-breakdown-item-icon" src="images/climate-change/ocean.svg" />
                                </div>
                                <div class="emissions-breakdown-item-text">
                                    and <span class="quarter-total-emission">X</span> kgt <sub>CO<sub>2</sub></sub> will acidify the ocean. 
                                </div>
                            </div>
                            <div class="emissions-breakdown-item"> 
                                <div class="emissions-breakdown-item-icon-container">
                                    <img class="emissions-breakdown-item-icon" src="images/climate-change/tree-stump.svg" />
                                </div>
                                <div class="emissions-breakdown-item-text">
                                    Plants will process the other <span class="quarter-total-emission">X</span> kgt <sub>CO<sub>2</sub></sub>.
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="overall-emissions-donut-chart-container">
                        <div class="main-view-text-medium-title">Activity Breakdown</div>
                        <div id="overall-emissions-donut-chart"></div>
                    </div>
                    <div id="overall-emissions-line-chart-container">
                        <div class="main-view-text-medium-title">Literally, Tons Over the Years</div>
                        <div id="overall-emissions-line-chart"></div>
                    </div>
                    <div id="calendar-charts-container">
                        <div class="calculator-chart-container" id="activity-daily-emissions-container">
                            <div class="main-view-text-medium-title">Daily Emissions</div>
                            <div id="activity-daily-emissions-chart"></div>
                        </div>
                        <div class="calculator-chart-container" id="activity-cumulative-emissions-container">
                            <div class="main-view-text-medium-title">Cumulative Emissions</div>
                            <div id="activity-cumulative-emissions-chart"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="map-container">
                <div id="map-label">
                    <!-- TODO: Include the km traveled by this mode. 2019: 4,263 Passenger Vehicle kilometers -->
                </div>
                <div id="map"></div>
            </div>
        </div>
        <div id="activity-control-panel-cell">
            <div id="activity-control-panel-cell-column">
                <div id="actvity-control-panel-selector-container">
                    <div class="activity-control-panel-selector button" activity="FLYING">
                        <img class="activity-control-panel-icon" activity="FLYING" src="images/activities/plane.svg" />
                    </div>
                    <div class="activity-control-panel-selector button" activity="IN_PASSENGER_VEHICLE">
                        <img class="activity-control-panel-icon" activity="IN_PASSENGER_VEHICLE" src="images/activities/car.svg" />
                    </div>
                    <div class="activity-control-panel-selector button" activity="IN_TRAIN">
                        <img class="activity-control-panel-icon" activity="IN_TRAIN" src="images/activities/train.svg" />
                    </div>
                    <div class="activity-control-panel-selector button" activity="IN_SUBWAY">
                        <img class="activity-control-panel-icon" activity="IN_SUBWAY" src="images/activities/subway.svg" />
                    </div>
                    <div class="activity-control-panel-selector button" activity="IN_BUS">
                        <img class="activity-control-panel-icon" activity="IN_BUS" src="images/activities/bus.svg" />
                    </div>
                    <div class="activity-control-panel-selector button" activity="IN_FERRY">
                        <img class="activity-control-panel-icon" activity="IN_FERRY" src="images/activities/boat.svg" />
                    </div>
                    <div class="activity-control-panel-selector button" activity="MOTORCYCLING">
                        <img class="activity-control-panel-icon" activity="MOTORCYCLING" src="images/activities/motorcycle.svg" />
                    </div>
                </div>
            </div>
        </div>
        <div id="year-control-panel-cell">
            <div id="year-control-panel-cell-row">
                <div id="year-control-panel-selector-container">
                </div>
            </div>
        </div>
    </div>
    
</body>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.heat/0.2.0/leaflet-heat.js" 
    integrity="sha512-KhIBJeCI4oTEeqOmRi2gDJ7m+JARImhUYgXWiOTIp9qqySpFUAJs09erGKem4E5IPuxxSTjavuurvBitBmwE0w==" 
    crossorigin="anonymous"></script>

<script type="text/javascript" src="./lib/zip.js"></script>
<script type="text/javascript" src="./index2.js"></script>
</html>